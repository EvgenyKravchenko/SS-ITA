{"ts":1359540414082,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"window.onload = function() {\n    \n  function Calc() {\n    \n    this.add = function() {\n      this.action(\"+\");\n    }\n\n    this.sub = function() {\n      this.action(\"-\");\n    }\n\n    this.mul = function() {\n      this.action(\"*\");\n    }\n\n    this.div = function() {\n      this.action(\"/\");\n    }\n\n    this.action = function(action) {\n      this.get_values();\n\n      switch (action) {\n        case '+': this.result = this.operand1 + this.operand2;  break;\n        case '-': this.result = this.operand1 - this.operand2;  break;\n        case '*': this.result = this.operand1 * this.operand2;  break;\n        case '/': this.result = this.operand1 / this.operand2;  break;\n      }\n\n      this.view_result();\n    }\n\n    this.get_values = function() {\n      this.operand1 = Number(document.getElementById(\"operand1\").value);\n      this.operand2 = Number(document.getElementById(\"operand2\").value);\n    }\n\n    this.view_result = function() {\n      this.validate_result();\n      document.getElementById(\"result\").value = this.result;\n    }\n\n    this.validate_result = function() {\n      this.result = (this.result === Infinity || isNaN(this.result) === true) ? 'Div by zero!': this.result.toFixed(2);\n    }\n\n  }\n\n\n    calc = new Calc();\n    \n    document.getElementById(\"add\").addEventListener('click', function(){calc.add();}, false);\n    document.getElementById(\"sub\").addEventListener('click', function(){calc.sub();}, false);\n    document.getElementById(\"mul\").addEventListener('click', function(){calc.mul();}, false);\n    document.getElementById(\"div\").addEventListener('click', function(){calc.div();}, false);\n    document.getElementById(\"result\").readOnly = true;\n    \n    disableArray = new Array(0,0);\n    document.getElementById(\"operand1\").addEventListener('keyup', function(){checkValues(this,0)}, false);\n    document.getElementById(\"operand1\").addEventListener('keyup', function(){checkValues(this,1)}, false);\n\n\n\n\n\n}\n\n\nfunction checkValues(obj, tag){\n\n  var regex = new RegExp(/^(?:\\d+(?:\\.\\d+)?)$/);\n  if (regex.test(obj.value) || obj.value === '') {\n      obj.className = '';\n      disableArray[tag] = 1;\n  } else {\n      obj.className = 'wrong';\n      disableArray[tag] = 0;\n  }\n\n\n  function setState(state) {\n      document.getElementById('add').disabled = state;\n      document.getElementById('sub').disabled = state;\n      document.getElementById('mul').disabled = state;\n      document.getElementById('div').disabled = state;\n  }\n\n  if (disableArray[0] === 1 && disableArray[1] === 1 && obj.value !== '') {\n      setState(false);\n  } else {\n      setState(true);\n  }\n\n}\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":2585}]],"length":2585}
{"contributors":[],"silentsave":false,"ts":1359540479359,"patch":[[{"diffs":[[0,"}\n\n\n    "],[1,"var "],[0,"calc = n"]],"start1":1199,"start2":1199,"length1":16,"length2":20}]],"length":2589,"saved":false}
{"contributors":[],"silentsave":false,"ts":1359545404342,"patch":[[{"diffs":[[0,"rand1 = "],[-1,"Number"],[1,"parseFloat"],[0,"(documen"]],"start1":757,"start2":757,"length1":22,"length2":26},{"diffs":[[0,"2 = "],[-1,"Number"],[1,"parseFloat"],[0,"(doc"]],"start1":838,"start2":838,"length1":14,"length2":18}]],"length":2597,"saved":false}
